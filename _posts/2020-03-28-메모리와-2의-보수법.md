---
title: 메모리와 2의 보수법
comments: true
categories:
   - recall
tags:
   - 보수법
   - memory
classes: wide
---
공부 후 정리한 내용으로, 잘못된 내용이 있을 수도 있습니다.  잘못된 점이나 추가해주실 부분이 있다면 알려주시면 감사하겠습니다. 더 성장하여 저도 다른 분들에게 도움이 되도록 하겠습니다.
{: .notice--info}

## bit(비트)와 byte(바이트)

컴퓨터는 정보를 2진수로 저장한다. 전압을 가하면 On, 가하지 않으면 Off 가 되는데 On 일 때를 1, Off 일 때는 0을 의미한다. 이 0과 1을 통해 데이터를 저장하는데, 정보의 최소 단위를 bit 라 하고 bit 가 8개 모여서 최소한의 의미를 가지는 것을 byte라 한다.

## 이전의 값 저장 방식

- 8을 2진수로 변환하면 100<sub>2</sub> 이다.
  - 논외지만, 윗첨자는 마크다운으로 작성하고 싶을 때 \<sup\>윗첨자\</sup\>, \<sub\>아랫첨자\</sub\>로 쓰면 된다.
- 2진수 100을 1byte에 넣는다고 하면 아래와 같이 각 bit 자리에 들어가게 된다.
  - 0 0 0 0 0 1 0 0 <sub>2</sub>
- 첫번째 자리는 MSB(Most Significant Bit)라고 부른다. 이 자리의 값이 0 이면 양수, 1 이면 음수를 의미한다. 양수일 때 1 Byte 에서 MSB 를 제외한 2<sup>7</sup>까지 표현할 수 있다.  
- 이렇게 데이터를 표현하는 것을 부호화-절대값 표현이라고 한다.

## 문제점

- 위 방식은 연산이 부정확하다.
  - 계산의 편의를 위해 4비트만 사용한다고 가정했을 때,  -3<sub>10</sub> + (-4<sub>10</sub>) 을 연산한다고 하면 1011<sub>2</sub>  + 1100<sub>2</sub> 과 같다.
  - 하지만 이를 연산했을 경우 아래와 같이 4비트를 초과하게 된다.
    - (1) 0 1 1 1
    - 0 1 1 1 만 연산이 되는데 이는 7<sub>10</sub>과 같다. 하지만 -3<sub>10</sub> + (-4<sub>10</sub>) 의 결과는 -7<sub>10</sub>이 나와야 한다.
    - 이렇게 초과되는 경우를 Overflow 라고 한다.
- 부호화-절댓값 표현을 쓰게 되면 +0은 0000<sub>2</sub>으로, -0은 1000<sub>2</sub>으로 두가지를 고려해야 되므로 연산이 복잡해진다.

## 해결책

### 보수 표현

#### 보수란?

- 보충해주는 수를 의미한다. 
  - 컴퓨터는 가산기만 이용하기 때문에 뺄셈을 덧셈 형식으로 변환하게 된다. 
  - 예를 들어 5 - 3 을 5 + (-3) 과 같이 만드는 것을 말한다.
  - 이렇게 음수를 표현하기 위해 보수를 쓰게 된다.
- 어떤 수 a 에 대한 n 의 보수는 a 와의 합이 n 이 되는 수이다.
- 가령 2의 보수라고 함은 어떤 수 a 의 합이 2가 되는 수를 말한다.

#### 1의 보수

- 컴퓨터는 0과 1만을 다루므 이 두 수에 대한 보수를 구하면
  - 0에 대한 1의 보수 = 0 과의 합이 1<sub>2</sub>이 되는 수 = 1
  - 1에 대한 1의 보수 = 1 과의 합이 1<sub>2</sub>이 되는 수 = 0

#### 2의 보수

- 어떤 수와의 합이 2(10<sub>2</sub>)가 되어야 하는데 이미 1이 진법 변환에 따라 2<sub>1</sub> * 1 = 2 이므로, 0이 되게 만드는 값을 찾으면 된다. 
- 0에 대한 2의 보수 = 0 과의 합이 2(10<sub>2</sub>)가 되는 수(0 이 되는 수) = 0 
- 1에 대한 2의 보수 = 1 과의 합이 2(10<sub>2</sub>)가 되는 수(0 이 되는 수) = 1
  - 1<sub>2</sub> + 1<sub>2</sub> = (1)0<sub>2</sub> 

#### 쉽게 계산하기

- 1의 보수는 2진수의 각 자리의 값을 0을 1로, 1을 0으로 바꾼 것곽 ㅏㅌ다.
- 2의 보수에서 0에 대한 2의 보수는 0에 대한 1의 보수 1에 1을 더한 것 과 같다. 1에 대한 2의 보수는 1에 대한 1의 보수인 0에 1을 더한 것과 같다.
- 결국 2진수 a 에 대한 2의 보수는 a에 대한 1의 보수에 1을 더한 것과 같다.

### 2의 보수 표현으로 부호화-절댓값 문제 해결하기

-   -3<sub>10</sub> + (-4<sub>10</sub>) 은 2의 보수가 각각 1101<sub>2</sub>, 1100<sub>2</sub>이다. 
  - -3<sub>10</sub>은 1011<sub>2</sub>이니 1의 보수는 0100<sub>2</sub>가 되고, 여기에 1을 더하면 1101<sub>2</sub>가 된다.
  - -4<sub>10</sub>은 1100<sub>2</sub>이니 1의 보수는 0011<sub>2</sub> 이 되고, 여기에 1을 더하면 1100<sub>2</sub>이 된다.
- 두 값을 더하면 (1)1001<sub>2</sub>가 된다. 
- 2의 보수로 연산하고 있으므로 2의 보수로 다시 변환 후 부호화-절댓값 표현으로 바꾸면 1111<sub>2</sub>가 된다. 이를 10진수로 변환하면 -7이 된다.
  - 2의 보수를 10진법으로 변환하기 위해서는 2의 보수를 다시 2의 보수로 변환 후, 이를 10진 수로 변환하면 된다.
- 2의 보수로 0을 표현하게 되면 +0 은 똑같이 0000<sub>2</sub>이고, -0은 10000<sub>2</sub>가 되지만 초과되는 1은 제외하므 0000<sub>2</sub>로 통일되서 표현할 수 있다.
- 그래서 컴퓨터에서는 음수를 표현할 때 2의 보수 표현을 사용한다.
- 양수인 경우에는 이전 방식과 동일하다.

## Ref

- 초보 프로그래머가 꼭 알아야할 컴퓨터 동작 원리 - 김종훈 지음, 한빛미디어
- 컴퓨팅 사고력을 키우는 이산수학 - 박주미 지음, 한빛 아카데미
- [어서와! Swift는 처음이지?](https://programmers.co.kr/learn/courses/9873)
- [https://ndb796.tistory.com/4](https://ndb796.tistory.com/4)

  

